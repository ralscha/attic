/*
 * $Header: c:/cvs/pbroker/src/ch/ess/taglib/table/TableMap.java,v 1.1.1.1 2002/02/26 06:46:55 sr Exp $
 * $Revision: 1.1.1.1 $
 * $Date: 2002/02/26 06:46:55 $
 */

/*
 * @(#)TableMap.java    1.7 99/04/23
 *
 * Copyright (c) 1997-1999 by Sun Microsystems, Inc. All Rights Reserved.
 *
 * Sun grants you ("Licensee") a non-exclusive, royalty free, license to use,
 * modify and redistribute this software in source and binary code form,
 * provided that i) this copyright notice and license appear on all copies of
 * the software; and ii) Licensee does not utilize the software in a manner
 * which is disparaging to Sun.
 *
 * This software is provided "AS IS," without a warranty of any kind. ALL
 * EXPRESS OR IMPLIED CONDITIONS, REPRESENTATIONS AND WARRANTIES, INCLUDING ANY
 * IMPLIED WARRANTY OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR
 * NON-INFRINGEMENT, ARE HEREBY EXCLUDED. SUN AND ITS LICENSORS SHALL NOT BE
 * LIABLE FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING
 * OR DISTRIBUTING THE SOFTWARE OR ITS DERIVATIVES. IN NO EVENT WILL SUN OR ITS
 * LICENSORS BE LIABLE FOR ANY LOST REVENUE, PROFIT OR DATA, OR FOR DIRECT,
 * INDIRECT, SPECIAL, CONSEQUENTIAL, INCIDENTAL OR PUNITIVE DAMAGES, HOWEVER
 * CAUSED AND REGARDLESS OF THE THEORY OF LIABILITY, ARISING OUT OF THE USE OF
 * OR INABILITY TO USE SOFTWARE, EVEN IF SUN HAS BEEN ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGES.
 *
 * This software is not designed or intended for use in on-line control of
 * aircraft, air traffic, aircraft navigation or aircraft communications; or in
 * the design, construction, operation or maintenance of any nuclear
 * facility. Licensee represents and warrants that it will not use or
 * redistribute the Software for such purposes.
 */

/**
 * In a chain of data manipulators some behaviour is common. TableMap
 * provides most of this behavour and can be subclassed by filters
 * that only need to override a handful of specific methods. TableMap
 * implements TableModel by routing all requests to its model, and
 * TableModelListener by routing all events to its listeners. Inserting
 * a TableMap which has not been subclassed into a chain of table filters
 * should have no effect.
 *
 * @version 1.7 04/23/99
 * @author Philip Milne 
 */
package ch.ess.tag.table;

import javax.swing.event.*;
import javax.swing.table.*;



public class TableMap extends AbstractTableModel implements TableModelListener {

  protected TableModel model;

  public TableModel getModel() {
    return model;
  }

  public void setModel(TableModel model) {

    this.model = model;

    model.addTableModelListener(this);
  }

  // By default, Implement TableModel by forwarding all messages 
  // to the model. 
  public Object getValueAt(int aRow, int aColumn) {
    return model.getValueAt(aRow, aColumn);
  }

  public void setValueAt(Object aValue, int aRow, int aColumn) {
    model.setValueAt(aValue, aRow, aColumn);
  }

  public int getRowCount() {
    return (model == null) ? 0 : model.getRowCount();
  }

  public int getColumnCount() {
    return (model == null) ? 0 : model.getColumnCount();
  }

  public String getColumnName(int aColumn) {
    return model.getColumnName(aColumn);
  }

  public Class getColumnClass(int aColumn) {
    return model.getColumnClass(aColumn);
  }

  public boolean isCellEditable(int row, int column) {
    return model.isCellEditable(row, column);
  }

  //
  // Implementation of the TableModelListener interface, 
  //
  // By default forward all events to all the listeners. 
  public void tableChanged(TableModelEvent e) {
    fireTableChanged(e);
  }
}
